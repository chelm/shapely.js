<html>
<head>
    <meta charset="utf-8">
    <style type="text/css">

    circle {
      stroke: #fff;
      fill:#F20;
      stroke-width: 1px;
      stroke-linejoin: round;
    }
    
    path {
      stroke: #fff;
      fill:#AAA;
      stroke-width: 1px;
      stroke-linejoin: round;
    }
    path:hover {
      fill:#999;
      cursor:pointer;
    }

    </style>
</head>
<body>
    <div id="map"></div>
    <script src="../shapely.min.js"></script>
    <script src="http://d3js.org/d3.v3.min.js"></script>

    <script type="text/javascript">

    var w = 700, h = 500;

    var vis = d3.select("#map").append("svg")
      .attr("width",w)
      .attr("height",h);

    var projection = d3.geo.mercator()
      .center([-104, 39])
      .scale(5000);
    var path = d3.geo.path().projection(projection);

    point = shapely.point([ -104, 39 ]);
    buffer = point.buffer( 1 );

    console.log(buffer.geojson());

    vis.append("g").append("path")
      .datum({type: "FeatureCollection", features: [ buffer.geojson() ]})
      .attr("d", path);    

    vis.select('g')
      .selectAll("circle")
      .data( [ point.geojson({}) ] )
      .enter()
      .append("circle")
        .attr("cx", function(d, i) { return projection(d.geometry.coordinates)[0]; })
        .attr("cy", function(d, i) { return projection(d.geometry.coordinates)[1]; })
        .attr('r', 10)


    </script>
</html>
